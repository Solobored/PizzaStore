@inherits LayoutComponentBase
@using Microsoft.AspNetCore.Components.Routing
@using Microsoft.AspNetCore.Components
@using PizzaStore.Services
@inject OrderState OrderState

<div id="app">
  <header class="top-bar">
    <div class="top-bar-inner">
      <a class="logo" href="/">
        <div class="logo-badge">🍕</div>
        <div class="brand">
          <div class="brand-name">Blazing Pizza</div>
          <div class="brand-sub">Hot & Fast</div>
        </div>
      </a>

      <nav class="top-nav">
        <NavLink href="/pizzas" class="nav-tab" Match="NavLinkMatch.Prefix">
          <span class="nav-icon">🍕</span>
          <span class="nav-label">Get Pizza</span>
        </NavLink>

        <NavLink href="/myorders" class="nav-tab" Match="NavLinkMatch.Prefix">
          <span class="nav-icon">🚴</span>
          <span class="nav-label">My Orders</span>
        </NavLink>

        <NavLink href="/checkout" Match="NavLinkMatch.Prefix">
          <span class="nav-tab cart-nav @(OrderState.HasItems ? "has-items" : "")">
            <span class="nav-icon">🧾</span>
            <span class="nav-label">Checkout</span>
            @if (OrderState.HasItems)
            {
              <span class="cart-badge">@(OrderState.Order?.Pizzas?.Count ?? 0)</span>
            }
          </span>
        </NavLink>
      </nav>
    </div>
  </header>

  <main class="content container">
    @Body
  </main>

  <footer class="site-footer">
    <div class="footer-content">
      <div class="footer-section">
        <h4>Blazing Pizza 🍕</h4>
        <p>Hot & Fast Pizza Delivery</p>
      </div>
      <div class="footer-section">
        <h4>📍 Location</h4>
        <p>123 Pizza Street<br />New York, NY 10001</p>
      </div>
      <div class="footer-section">
        <h4>📞 Contact</h4>
        <p>Phone: (555) 123-4567<br />Email: orders@blazingpizza.com</p>
      </div>
      <div class="footer-section">
        <h4>🕐 Hours</h4>
        <p>Mon-Sun: 11AM - 11PM<br />Delivery: Until 10PM</p>
      </div>
    </div>
    <div class="footer-bottom">
      <p>© Blazing Pizza @DateTime.UtcNow.Year • Fastest Pizza in Town</p>
    </div>
  </footer>
</div>
